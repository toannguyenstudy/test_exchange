<ion-header>
    <ion-toolbar
        (pan)="handlePan($event)"
        (panend)="handlePanEnd($event)"
        color="warning"
    >
        <ion-buttons slot="end">
            <ion-button (click)="closeLoginModal()">
                <ion-icon
                    slot="icon-only"
                    name="close"
                    color="medium"
                ></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <div class="container d-flex flex-column">
        <div class="row">
            <div class="col">
                <h1 style="font-size: 2.5rem;">
                    {{'accountTab.loginPage.welcome' | translate}}
                </h1>
            </div>
        </div>

        <form [formGroup]="loginForm">
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label>Email</label>
                        <input
                            type="email"
                            class="form-control form-control-lg rounded-0"
                            placeholder="{{'accountTab.loginPage.enterEmail' | translate}}"
                            formControlName="email"
                        />
                        <small
                            class="form-text badge text-warning"
                            *ngIf="loginForm.controls.email.dirty&&loginForm.controls.email.errors"
                            >{{ emailErrorMessage }}</small
                        >
                    </div>

                    <div class="form-group">
                        <label translate>accountTab.loginPage.password</label>
                        <div class="input-group">
                            <input
                                [type]="showPasswordType"
                                class="form-control form-control-lg password rounded-0"
                                placeholder="{{'accountTab.loginPage.enterPassword' | translate}}"
                                formControlName="password"
                            />
                            <div class="input-group-append">
                                <span
                                    class="input-group-text"
                                    (click)="onChangeShowPassword()"
                                >
                                    <i
                                        *ngIf="showPassword"
                                        class="fas fa-eye"
                                    ></i>
                                    <i
                                        *ngIf="!showPassword"
                                        class="fas fa-eye-slash"
                                    ></i>
                                </span>
                            </div>
                        </div>
                        <small
                            class="form-text text-warning"
                            *ngIf="loginForm.controls.password.dirty&&loginForm.controls.password.errors"
                            >{{passwordErrorMessage}}</small
                        >
                    </div>
                    <p
                        class="text-right"
                        style="text-decoration: underline; color: #ffce00;"
                    >
                        {{'accountTab.loginPage.forgotPassword' | translate}}?
                    </p>
                    <button
                        type="button"
                        class="btn btn-lg text-light btn-block rounded-0 border-0"
                        style="background: #898a96;"
                        [disabled]="!loginForm.valid"
                        (click)="onLoginForm()"
                    >
                        {{'accountTab.loginPage.signIn' | translate}}
                    </button>
                    <p class="text-center mt-3">
                        {{'accountTab.loginPage.noAccountYet' | translate}}?
                        <span
                            (click)="goToRegister()"
                            style="color: #ffce00; text-decoration: underline;"
                            >{{'accountTab.loginPage.register' |
                            translate}}</span
                        >
                    </p>
                </div>
            </div>
        </form>
    </div>
</ion-content>
